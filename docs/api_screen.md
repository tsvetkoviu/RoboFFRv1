# API табло покупателя

<swagger-ui src= "https://raw.githubusercontent.com/tsvetkoviu/RoboFFRv1/master/docs/diagrams/api_screen.yml" />

## Бизнес-описание API для табло покупателя

### Назначение системы
Табло покупателя - это информационный экран, отображающий статусы заказов в реальном времени. Оно позволяет:
- Информировать клиентов о текущем состоянии их заказов
- Указывать место выдачи готовых заказов
- Отображать ориентировочное время готовности

### Основные бизнес-процессы

#### 1. Отображение активных заказов
- Табло показывает список всех заказов, которые:
  - Находятся в процессе приготовления
  - Готовы к выдаче
  - Задерживаются (с указанием причины)

#### 2. Обновление статусов
- При изменении статуса заказа (например, с "Готовится" на "Готово") информация мгновенно обновляется на табло
- Для каждого статуса используется своя цветовая индикация:
  - Желтый - готовится
  - Зеленый - готово
  - Красный - задержка

#### 3. Информация для клиентов
По каждому заказу отображается:
- Номер заказа
- Список позиций
- Статус приготовления
- Место выдачи
- Ориентировочное время готовности (для статуса "Готовится")

### Технические особенности

#### Частота обновления
- Данные на табло обновляются каждые 15 секунд
- При критических изменениях (смена статуса) обновление происходит мгновенно

#### Интеграции
API табло взаимодействует с:
1. Системой управления заказами (получает статусы)
2. Кухонными дисплеями (синхронизирует данные о готовности)
3. Платежной системой (проверяет оплаченные заказы)

### Безопасность
- Доступ к API только по JWT-токенам
- Ограничение запросов: не более 10 в секунду с одного IP
- Все данные передаются по HTTPS

### Примеры бизнес-сценариев

#### Сценарий 1: Клиент отслеживает заказ
1. Клиент делает заказ и получает номер "order_123"
2. На табло появляется запись:

**` 
Заказ #123 [Готовится]
Бургер x1, Фри x1
Примерное время: 7 мин
`**

3. При готовности статус меняется на "Готово" с указанием стойки выдачи

#### Сценарий 2: Задержка заказа
1. При превышении нормативного времени приготовления система автоматически меняет статус на "Задерживается"
2. На табло появляется соответствующая отметка
3. Администратор получает уведомление о необходимости вмешательства

### Дополнительные функции
- Возможность вывода промо-сообщений при простое
- Поддержка мультиязычности (настройка через API)
- Интеграция с системой лояльности (отображение бонусов)

---
