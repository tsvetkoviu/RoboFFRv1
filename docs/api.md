# API приложения
<!--
<iframe src="path/to/local/swagger-ui?url=../docs/diagrams/api.json" width="100%" height="800"></iframe>
-->
<swagger-ui src= "https://raw.githubusercontent.com/tsvetkoviu/RoboFFRv1/master/docs/diagrams/api.yml" />

# Описание интерфейса RoboPoint Restoran API и его взаимодействие с UI

## Назначение API

**RoboPoint Restoran API** — интеграционный интерфейс для автоматизации и цифровизации операций ресторана или сети фуд-объектов. Интерфейс предназначен для обмена данными мобильных и web-приложений, киосков самообслуживания, CRM-систем и внешних сервисов с серверной частью ресторана.

**Основные задачи:**
- Онлайн-заказ и просмотр блюд
- Удобное оформление, повторение заказов и отслеживание их статуса
- Оставление отзывов о блюдах
- Безопасная аутентификация пользователей

---

## Участники процесса

- **Гости ресторана (Клиенты)** — используют мобильное приложение, веб-сайт или терминал.
- **Официанты/Персонал** — работают через админ-панель.
- **Бекенд ресторанной системы** — обрабатывает все входящие API-запросы.

---

## Взаимодействие API и UI

### Типовой сценарий для клиента

1. **Аутентификация**
    - Пользователь вводит логин и пароль, UI отправляет запрос на `/auth/login`.
    - Полученный `token (JWT)` сохраняется во фронтенде и используется для всех последующих запросов.
2. **Просмотр блюд**
    - UI отправляет запрос на `/dishes` с фильтрами (кухня, категория, рейтинг).
    - API возвращает список блюд для отображения в каталоге меню.
3. **Оформление заказа**
    - Пользователь добавляет позиции в корзину.
    - При подтверждении заказа UI отправляет содержимое корзины на `/orders`.
    - API возвращает подтверждение и детали заказа, UI показывает номер заказа и сумму.
4. **Отслеживание статуса заказа**
    - UI периодически опрашивает `/orders/{orderId}/status` и отображает прогресс ("Готовится", "Доставляется" и пр.).
5. **История и повторение заказов**
    - `/orders/history` — UI отображает список предыдущих заказов.
    - `/orders/{orderId}/repeat` используется для быстрого повтора заказа.
6. **Оставление отзывов**
    - Форма для отзыва на блюдо отправляет данные на `/dishes/{dishId}/reviews`.

---

### Сценарий обращения администратора

- Администратор видит активные заказы, обновляет статус, анализирует отзывы и блюда через отдельную UI-панель на базе тех же методов API.

---

### Пример пользовательского сценария (UI ⇌ API):

1. Открытие меню  
   **UI** → `GET /dishes` → **API** → Список блюд
2. Оформление заказа  
   **UI** → `POST /orders` → **API** → Подтверждение и номер заказа
3. Мониторинг статуса заказа  
   **UI** → `GET /orders/{orderId}/status`
4. Оставление отзыва  
   **UI** → `POST /dishes/{dishId}/reviews`
5. История заказов  
   **UI** → `GET /orders/history`

---

## Основные бизнес-выгоды

- Улучшение клиентского сервиса за счёт цифровых каналов продаж
- Сокращение времени ожидания и ошибок при обслуживании
- Рост повторных покупок за счёт истории и простого повтора заказов
- Сбор и анализ отзывов для повышения качества меню
- Простая интеграция с любой современной цифровой платформой

---

## Итог

API выступает связующим звеном между всеми интерфейсами ресторана.  
**UI** — это любое приложение, сайт или терминал, который делает запросы к API для работы с блюдами, заказами и отзывами, обеспечивая современный и удобный опыт для клиентов и сотрудников ресторана.

Использование:
Скопируйте содержимое блока выше и сохраните в файл, например api-business-description.md.
Формат оптимизирован под просмотр на GitHub, цетнтрах документации, Confluence, Notion и т.д.
