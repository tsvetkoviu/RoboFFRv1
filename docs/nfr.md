# Нефункциональные требования системы

На основе анализа полученных данных выделены следующие нефункциональные требования:

## 1. Требования к производительности

| Категория               | Требование                                                              |
|-------------------------|-------------------------------------------------------------------------|
| Время отклика           | 95% запросов должны обрабатываться ≤ 1.5 сек                            |
|                         | Критические операции (оплата, оформление заказа) ≤ 800 мс               |
| Пропускная способность  | Система должна выдерживать ≥ 500 одновременных пользователей            |
|                         | Пиковая нагрузка (12:00-14:00, 18:00-20:00) - до 1500 RPS               |
| Задержки                | Задержка между сервисами ≤ 200 мс (P99)                                 |

## 2. Требования к надежности

| Показатель              | Значение                                                                |
|-------------------------|-------------------------------------------------------------------------|
| Доступность             | 99.95% uptime для критических сервисов (оплата, меню)                   |
| Восстановление          | Максимальное время восстановления (MTTR) ≤ 15 минут                     |
| Целостность данных      | Гарантированная сохранность данных при сбоях (ACID для транзакций)      |
| Резервирование          | Автоматическое переключение на backup-сервера ≤ 2 минуты                |

## 3. Масштабируемость

- **Горизонтальное масштабирование**: Возможность увеличения количества инстансов сервисов меню и заказов в 5 раз при росте нагрузки
- **Вертикальное масштабирование**: Поддержка увеличения ресурсов отдельных узлов без downtime
- **Геораспределение**: Возможность развертывания в нескольких AZ/регионах

## 4. Безопасность

### 4.1. Защита данных
- Шифрование персональных данных (номера телефонов, платежные данные) 
- Хранение паролей с использованием 24 битных ключей шифрования

### 4.2. Доступ
- Двухфакторная аутентификация для администраторов
- должна использоваться ролевая модель с минимальными привилегиями
- JWT токены с сроком жизни ≤ 15 минут + refresh tokens

### 4.3. Аудит
- Логирование всех критических операций с retention ≥ 180 дней
- Мониторинг аномальных активностей в реальном времени

## 5. Совместимость

| Компонент               | Требования                                                              |
|-------------------------|-------------------------------------------------------------------------|
| Мобильные приложения    | Поддержка iOS 14+/Android 8+                                            |
| Браузеры                | Chrome, Safari, Firefox последних 2 версий                              |
| Платежные системы       | Интеграция с CloudPayments, T-банк, Сбербанк Эквайринг                  |
| API                     | RESTful JSON API с backward compatibility ≥ 2 версий                    |

## 6. Удобство использования

- Среднее время обучения нового сотрудника ≤ 2 часа
- Поддержка 2 языков интерфейса (русский, английский)

## 7. Архитектурные ограничения

- Запрет прямого доступа к БД из фронтенда
- Использование только санкционированных API Gateway
- Микросегментация сети между компонентами
- Запрет хранения платежных данных в логах

## 9. Юридические требования

- Соответствие 152-ФЗ (персональные данные)
- Локальное хранение данных российских пользователей
- Интеграция с ОФД (фискальные данные)
